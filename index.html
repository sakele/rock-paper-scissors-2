<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, and Scissors, too!</title>
</head>
<body>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <script>
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min)
        }
        function capitalize(string) {
            let lower = string.toLowerCase();
            return lower.charAt(0).toUpperCase() + lower.slice(1);
        }
        function getComputerChoice() {
            let choice = getRandomInt(1,3);
            if (choice === 1) {
                return 'Rock'
            } else if (choice === 2) {
                return 'Paper'
            } else {
                return 'Scissors'
            }
        }
        function playRound(playerSelection, computerSelection) {
            let playerOutcome;
            let winningPlay;
            let losingPlay;
            playerSelection = capitalize(playerSelection);
            if (playerSelection === computerSelection) {
                console.log('Tie!')
                return 'Tie'
            } else if ((playerSelection === 'Rock' && computerSelection === 'Scissors') ||
                        (playerSelection === 'Scissors' && computerSelection === 'Paper') ||
                        (playerSelection === 'Paper' && computerSelection === 'Rock')) {
                            playerOutcome = 'Win';
                            winningPlay = playerSelection;
                            losingPlay = computerSelection;
            } else {
                playerOutcome = 'Lose'
                winningPlay = computerSelection;
                losingPlay = playerSelection;
                }
            console.log(`You ${playerOutcome}! ${winningPlay} beats ${losingPlay}`)
            return playerOutcome;
        }

        const buttons = document.querySelectorAll('button');
        buttons.forEach(function(button) {
            button.addEventListener('click', function(e) {
                let play = e.target.id;
                let playerOutcome = playRound(play, getComputerChoice());
                return playerOutcome;
            })
        });

        /*function game() {
            let keepGoing = true;
            let count = 1;
            let playerWins = 0;
            let compWins = 0;
            let playerSelection;
            while (keepGoing) {
                if (count === 5) {
                    keepGoing = false;
                }
                playerSelection = prompt("What's yer play, pardner? (Only Rock, Paper, or Scissors)")
                playerOutcome = playRound(playerSelection, getComputerChoice())
                if (playerOutcome === 'Win') {
                    playerWins += 1;
                }
                else if (playerOutcome === 'Lose') {
                    compWins += 1;
                }
                count += 1;
            }
            let winner = `You won ${playerWins} to ${compWins}. Go get 'em, champ!`
            let loser = `You lost ${compWins} to ${playerWins}. Better luck next time!`;
            let tie = "You tied with the machine. I guess no one's superior?"
            if (playerWins > compWins) {
                finalOutcome = winner;
            } else if (playerWins < compWins) {
                finalOutcome = loser;
            } else {
                finalOutcome = tie;
            }
            console.log(finalOutcome);
        }*/
    </script>
</body>
</html>